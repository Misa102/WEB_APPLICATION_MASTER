{"ast":null,"code":"import { takeLatest, call, put } from \"redux-saga/effects\";\nimport * as actions from '../actions';\nimport * as api from '../../api';\n\n// generator fct quand il y a un action a lieu\nfunction* fetchPostSaga(action) {\n  try {\n    const posts = yield call(api.fetchPosts);\n    console.log('[posts]', posts);\n    //trigger action\n    yield put(actions.getPosts.getPostsSuccess(posts.data));\n  } catch (err) {\n    console.error(err);\n    yield put(actions.getPosts.getPostsFailure(err));\n  }\n}\nfunction* mySaga() {\n  //actions.getPosts.getPostsRequest écoute une action getPostsRequest\n  // quand il a vu qu'il y a une action trigger, fetchPostSaga va exécuter\n  // et puis il va appeller api.fetchPosts vers api/index.js \n  // dans api/index.js, request va appeller API avec router URL avec methode get\n  // puis résultat va dans variable posts\n  yield takeLatest(actions.getPosts.getPostsRequest, fetchPostSaga);\n}\n\n//generator function ES6\n\nexport default mySaga;","map":{"version":3,"names":["takeLatest","call","put","actions","api","fetchPostSaga","action","posts","fetchPosts","console","log","getPosts","getPostsSuccess","data","err","error","getPostsFailure","mySaga","getPostsRequest"],"sources":["D:/WEB_PROJECT/client/src/redux/sagas/index.js"],"sourcesContent":["import { takeLatest, call, put } from \"redux-saga/effects\";\r\nimport * as actions from '../actions';\r\nimport * as api from '../../api';\r\n\r\n// generator fct quand il y a un action a lieu\r\nfunction* fetchPostSaga(action){\r\n    try{\r\n        const posts = yield call(api.fetchPosts);\r\n        console.log('[posts]', posts);\r\n        //trigger action\r\n        yield put(actions.getPosts.getPostsSuccess(posts.data));\r\n    }\r\n    catch (err){\r\n        console.error(err);\r\n        yield put(actions.getPosts.getPostsFailure(err));\r\n    }\r\n    \r\n}\r\n\r\n\r\nfunction* mySaga(){\r\n    //actions.getPosts.getPostsRequest écoute une action getPostsRequest\r\n    // quand il a vu qu'il y a une action trigger, fetchPostSaga va exécuter\r\n    // et puis il va appeller api.fetchPosts vers api/index.js \r\n    // dans api/index.js, request va appeller API avec router URL avec methode get\r\n    // puis résultat va dans variable posts\r\n    yield takeLatest(actions.getPosts.getPostsRequest, fetchPostSaga)\r\n}\r\n\r\n//generator function ES6\r\n\r\nexport default mySaga;"],"mappings":"AAAA,SAASA,UAAU,EAAEC,IAAI,EAAEC,GAAG,QAAQ,oBAAoB;AAC1D,OAAO,KAAKC,OAAO,MAAM,YAAY;AACrC,OAAO,KAAKC,GAAG,MAAM,WAAW;;AAEhC;AACA,UAAUC,aAAaA,CAACC,MAAM,EAAC;EAC3B,IAAG;IACC,MAAMC,KAAK,GAAG,MAAMN,IAAI,CAACG,GAAG,CAACI,UAAU,CAAC;IACxCC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEH,KAAK,CAAC;IAC7B;IACA,MAAML,GAAG,CAACC,OAAO,CAACQ,QAAQ,CAACC,eAAe,CAACL,KAAK,CAACM,IAAI,CAAC,CAAC;EAC3D,CAAC,CACD,OAAOC,GAAG,EAAC;IACPL,OAAO,CAACM,KAAK,CAACD,GAAG,CAAC;IAClB,MAAMZ,GAAG,CAACC,OAAO,CAACQ,QAAQ,CAACK,eAAe,CAACF,GAAG,CAAC,CAAC;EACpD;AAEJ;AAGA,UAAUG,MAAMA,CAAA,EAAE;EACd;EACA;EACA;EACA;EACA;EACA,MAAMjB,UAAU,CAACG,OAAO,CAACQ,QAAQ,CAACO,eAAe,EAAEb,aAAa,CAAC;AACrE;;AAEA;;AAEA,eAAeY,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}